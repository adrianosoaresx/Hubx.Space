{% extends 'base.html' %}
{% block title %}Eventos | Hubx{% endblock %}

{% block content %}
<section class="perfil-section active">
    <div class="section-header">
        <h2>Lista de Eventos</h2>
    </div>
    {% if user.tipo_id == 4 or user.tipo_id == 1 %}
    <div class="empresas-actions">
        <a href="{% url 'eventos:create' %}" class="btn btn-primary">Novo Evento</a>
    </div>
    {% endif %}

    <form method="get" class="search-bar" style="margin-bottom:2rem;">
        {{ form.media }}
        {{ form.evento }}
        <noscript><button type="submit" class="btn btn-secondary">Buscar</button></noscript>
    </form>
    <div class="empresas-grid">
        {% for evento in object_list %}
        <div class="empresa-card">
            <div class="empresa-info">
                <h3>{{ evento.titulo }}</h3>
                <p class="empresa-tipo">{{ evento.data_hora }}</p>
            </div>
            <div class="empresa-actions">
                <a href="{% url 'eventos:detail' evento.id %}" class="btn btn-outline btn-sm">Ver</a>
                {% if user.tipo_id == 4 or user.tipo_id == 1 %}
                <a href="{% url 'eventos:update' evento.id %}" class="btn btn-secondary btn-sm">Editar</a>
                <a href="{% url 'eventos:delete' evento.id %}" class="btn btn-danger btn-sm">Remover</a>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="empty-state">Nenhum evento.</div>
        {% endfor %}
    </div>
</section>
{% endblock %}

{% block extra_js %}
{{ block.super }}
{% endblock %}
