{% extends 'base.html' %}

{% block title %}{{ object.titulo }} | Hubx{% endblock %}

{% block content %}
<div class="container mt-8 space-y-8">
    <div>
        <h2 class="text-2xl font-bold text-neutral-900 mb-1">{{ object.titulo }}</h2>
        <p class="text-sm text-neutral-500">por <strong>{{ object.autor.username }}</strong> em {{ object.criado_em|date:'SHORT_DATETIME_FORMAT' }}</p>
    </div>

    <div class="prose max-w-none">
        {{ object.conteudo|linebreaks }}
    </div>

    <h3 class="text-xl font-semibold text-neutral-900">Respostas</h3>
    <ul class="space-y-4">
        {% for resposta in object.respostas.all %}
        <li class="card">
            <div class="card-body">
                <div class="mb-2">{{ resposta.conteudo|linebreaks }}</div>
                <p class="text-sm text-neutral-500">
                    <strong>{{ resposta.autor.username }}</strong> - {{ resposta.criado_em|date:'SHORT_DATETIME_FORMAT' }}
                </p>
            </div>
        </li>
        {% empty %}
        <li class="text-neutral-600">Nenhuma resposta encontrada</li>
        {% endfor %}
    </ul>

    <div>
        <h3 class="text-xl font-semibold text-neutral-900 mb-4">Responder</h3>
        <form method="post" action="{% url 'forum:responder' object.pk %}" class="space-y-4">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
    </div>
</div>
{% endblock %}
