{% extends 'base.html' %}
{% load static %}
{% block title %}Chat{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/chat.css' %}">
{% endblock %}
{% block content %}
<div id="chat-container">
    <h3>Escolha um usu√°rio para conversar</h3>
    <div class="user-list">
        {% for u in users %}
            <div class="user-card" onclick="openChat({{ u.id }})">
                {{ u.get_full_name|default:u.username }}
            </div>
        {% empty %}
            <p>Nenhum outro membro encontrado.</p>
        {% endfor %}
    </div>
</div>

<script>
function openChat(userId){
    if(!userId) return;
    window.open('/chat/room/' + userId + '/', 'chat_'+userId, 'width=400,height=600');
}
</script>
{% endblock %}
{% block footer %}<div class="chat-footer">HubX Chat</div>{% endblock %}
