{% load i18n %}
<aside
  id="room-modal"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"
  role="dialog"
  aria-modal="true"
  hx-target="this"
  hx-swap="outerHTML"
>
  <section id="chat-container" class="relative bg-white rounded-lg max-w-lg w-full p-6 space-y-4" tabindex="-1">
    <button
      type="button"
      class="absolute top-2 right-2 text-neutral-500 hover:text-neutral-700"
      onclick="fecharChat()"
      aria-label="{% trans 'Fechar' %}"
    >âœ•</button>
    <h2 class="text-lg font-semibold">{{ dest.get_full_name|default:dest.username }}</h2>
    <ul class="space-y-2 max-h-96 overflow-y-auto" id="chat-messages">
      {% for m in messages %}
        <li class="border-b border-neutral-200 pb-2">
          <strong>{{ m.remetente.username }}:</strong>
          {% if m.tipo == "text" %}{{ m.conteudo }}{% else %}
            <a href="{{ m.conteudo }}">{{ m.tipo }}</a>
          {% endif %}
        </li>
      {% empty %}
        <li class="text-neutral-500">{% trans "Nenhuma mensagem." %}</li>
      {% endfor %}
    </ul>
  </section>
</aside>
