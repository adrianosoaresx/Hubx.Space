{% extends 'perfil/perfil_subpage_base.html' %}
{% load static %}

{% block title %}Informações Pessoais | Hubx{% endblock %}

{% block content %}
<section id="informacoes-pessoais" class="perfil-section active">
  <div class="section-header">
      <h2>Informações Pessoais</h2>
      <p>Atualize seus dados básicos</p>
  </div>

  <form id="formInformacoes" class="perfil-form" method="post" action="{% url 'accounts:informacoes_pessoais' %}" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="form-group">
          <label for="nome" class="form-label">Nome Completo</label>
          <input type="text" id="nome" name="nome" class="form-input" value="{{ user.get_full_name }}" required>
      </div>

      <div class="form-row">
          <div class="form-group">
              <label for="username" class="form-label">Usuário</label>
              <input type="text" id="username" name="username" class="form-input" value="{{ user.username }}" required>
          </div>

          <div class="form-group">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" name="email" class="form-input" value="{{ user.email }}" required>
          </div>
      </div>

      <div class="form-group">
          <label for="bio" class="form-label">Bio</label>
          <textarea id="bio" name="bio" class="form-input" rows="4">{{ user.bio }}</textarea>
      </div>

      <div class="form-row">
          <div class="form-group">
              <label for="data_nascimento" class="form-label">Data de Nascimento</label>
              <input type="date" id="data_nascimento" name="data_nascimento" class="form-input" value="{{ user.data_nascimento|date:'Y-m-d' }}">
          </div>

          <div class="form-group">
              <label for="genero" class="form-label">Gênero</label>
              <select id="genero" name="genero" class="form-select">
                  <option value="">Selecione...</option>
                  <option value="M" {% if user.genero == 'M' %}selected{% endif %}>Masculino</option>
                  <option value="F" {% if user.genero == 'F' %}selected{% endif %}>Feminino</option>
                  <option value="O" {% if user.genero == 'O' %}selected{% endif %}>Outro</option>
              </select>
          </div>
      </div>

      <div class="form-group">
          <label for="avatar" class="form-label">Foto de Perfil</label>
          <input type="file" id="avatar" name="avatar" class="form-input">
      </div>

      <div class="form-actions">
          <button type="submit" class="btn-save">
              <span class="button-text">Salvar Alterações</span>
              <span class="button-loader"></span>
          </button>
      </div>
  </form>
</section>
{% endblock %}
