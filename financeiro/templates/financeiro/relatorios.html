{% extends "base.html" %}

{% block title %}Relatórios Financeiros{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto p-4 space-y-4">
  <h1 class="text-2xl font-semibold mb-2">Relatórios</h1>
  <form id="relatorio-form" class="space-y-4" hx-get="/api/financeiro/relatorios/" hx-target="#resultado">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Centro de Custo</label>
        <select name="centro" class="mt-1 block w-full border rounded p-2">
          <option value="">Todos</option>
          {% for c in centros %}
            <option value="{{ c.id }}">{{ c.nome }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Núcleo</label>
        <select name="nucleo" class="mt-1 block w-full border rounded p-2">
          <option value="">Todos</option>
          {% for n in nucleos %}
            <option value="{{ n.id }}">{{ n.nome }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Período inicial</label>
        <input type="month" name="periodo_inicial" class="mt-1 block w-full border rounded p-2" />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Período final</label>
        <input type="month" name="periodo_final" class="mt-1 block w-full border rounded p-2" />
      </div>
    </div>
    <button type="submit" class="bg-primary text-white px-4 py-2 rounded">Gerar Relatório</button>
  </form>

  <div id="resultado" class="mt-6"></div>
  <div class="mt-4">
    <a href="#" id="export-csv" class="text-primary underline" hx-boost="false">Exportar CSV</a>
  </div>
</div>
{% endblock %}
