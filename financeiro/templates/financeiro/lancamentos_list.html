{% extends "base.html" %}

{% block title %}Lançamentos Financeiros{% endblock %}

{% block content %}
<div class="p-4 max-w-6xl mx-auto">
  <h1 class="text-2xl font-semibold mb-2">Lançamentos</h1>
  <div class="mb-4 grid grid-cols-1 md:grid-cols-5 gap-4">
    <select name="status" id="filtro-status" class="border p-2 rounded" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-include="closest div">
      <option value="">Todos Status</option>
      <option value="pendente">Pendente</option>
      <option value="pago">Pago</option>
      <option value="cancelado">Cancelado</option>
    </select>
    <select name="centro" id="filtro-centro" class="border p-2 rounded" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-include="closest div">
      <option value="">Todos Centros</option>
      {% for c in centros %}
        <option value="{{ c.id }}">{{ c.nome }}</option>
      {% endfor %}
    </select>
    <select name="nucleo" id="filtro-nucleo" class="border p-2 rounded" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-include="closest div">
      <option value="">Todos Núcleos</option>
      {% for n in nucleos %}
        <option value="{{ n.id }}">{{ n.nome }}</option>
      {% endfor %}
    </select>
    <input type="month" name="periodo_inicial" class="border p-2 rounded" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-include="closest div">
    <input type="month" name="periodo_final" class="border p-2 rounded" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-include="closest div">
  </div>
  <div id="lista" hx-get="/api/financeiro/lancamentos/" hx-target="this">
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
        <tr class="bg-gray-50">
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">ID</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Centro de Custo</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Conta Associada</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Tipo</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Valor</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Data de Lançamento</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Status</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">Data de Vencimento</th>
          <th class="px-3 py-2"></th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
{% endblock %}
