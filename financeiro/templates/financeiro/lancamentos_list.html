{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ _('Lançamentos Financeiros') }}{% endblock %}

{% block content %}
<main class="p-4 max-w-6xl mx-auto">
  <h1 class="text-2xl font-semibold mb-2">{{ _('Lançamentos') }}</h1>
  <form id="filtros" class="mb-4 grid grid-cols-1 md:grid-cols-5 gap-4" hx-get="/api/financeiro/lancamentos/" hx-target="#lista" hx-trigger="change from:select,change from:input, submit">
    <legend class="sr-only">{{ _('Filtros') }}</legend>
    <div>
      <label for="filtro-status" class="block text-sm font-medium text-gray-700">{{ _('Status') }}</label>
      <select name="status" id="filtro-status" class="border p-2 rounded">
        <option value="">{{ _('Todos Status') }}</option>
        <option value="pendente">{{ _('Pendente') }}</option>
        <option value="pago">{{ _('Pago') }}</option>
        <option value="cancelado">{{ _('Cancelado') }}</option>
      </select>
    </div>
    <div>
      <label for="filtro-centro" class="block text-sm font-medium text-gray-700">{{ _('Centro de Custo') }}</label>
      <select name="centro" id="filtro-centro" class="border p-2 rounded">
        <option value="">{{ _('Todos Centros') }}</option>
        {% for c in centros %}
          <option value="{{ c.id }}">{{ c.nome }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label for="filtro-nucleo" class="block text-sm font-medium text-gray-700">{{ _('Núcleo') }}</label>
      <select name="nucleo" id="filtro-nucleo" class="border p-2 rounded">
        <option value="">{{ _('Todos Núcleos') }}</option>
        {% for n in nucleos %}
          <option value="{{ n.id }}">{{ n.nome }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label for="filtro-periodo-inicial" class="block text-sm font-medium text-gray-700">{{ _('Período inicial') }}</label>
      <input id="filtro-periodo-inicial" type="month" name="periodo_inicial" class="border p-2 rounded" />
    </div>
    <div>
      <label for="filtro-periodo-final" class="block text-sm font-medium text-gray-700">{{ _('Período final') }}</label>
      <input id="filtro-periodo-final" type="month" name="periodo_final" class="border p-2 rounded" />
    </div>
  </form>
  <div id="lista" aria-live="polite">
    <table class="min-w-full divide-y divide-gray-200" hx-get="/api/financeiro/lancamentos/" hx-trigger="load" hx-target="tbody">
      <thead>
        <tr class="bg-gray-50">
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('ID') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Centro de Custo') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Conta Associada') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Tipo') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Valor') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Data de Lançamento') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Status') }}</th>
          <th class="px-3 py-2 text-left text-xs font-medium text-gray-500">{{ _('Data de Vencimento') }}</th>
          <th class="px-3 py-2"></th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</main>

{% endblock %}

