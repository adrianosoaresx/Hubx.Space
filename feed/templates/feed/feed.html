{% extends "perfil/perfil_subpage_base.html" %}
{% load static %}
{% block title %}Feed{% endblock %}
{% block extra_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'feed/css/feed.css' %}">
{% endblock %}
{% block perfil_subpage_content %}
<div class="feed-container">
    <div class="feed-header">
        <h1 class="feed-title">Feed Global</h1>
        <a href="{% url 'feed:nova_postagem' %}" class="btn btn-primary">
            <span class="btn-icon">+</span>
            Nova Postagem
        </a>
    </div>
    
    <div class="posts-container">
        {% for post in posts %}
        <article class="post-card">
            <div class="post-header">
                <div class="post-author">
                    <div class="author-avatar">
                        {{ post.autor.username|first|upper }}
                    </div>
                    <div class="author-info">
                        <strong class="author-name">{{ post.autor.username }}</strong>
                        <time class="post-date">{{ post.criado_em|date:"SHORT_DATE_FORMAT" }}</time>
                    </div>
                </div>
            </div>
            
            <div class="post-content">
                <p class="post-text">{{ post.conteudo|linebreaks }}</p>
                {% if post.imagem %}
                <div class="post-image">
                    <img src="{{ post.imagem.url }}" alt="Imagem da postagem">
                </div>
                {% endif %}
            </div>
        </article>
        {% empty %}
        <div class="empty-state">
            <div class="empty-icon">üìù</div>
            <h3>Nenhuma postagem ainda</h3>
            <p>Seja o primeiro a compartilhar algo!</p>
            <a href="{% url 'feed:nova_postagem' %}" class="btn btn-primary">Criar primeira postagem</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
